/*
 * _F 0.0.5 - a _F thing
 * Copyright  (c) 2014 J. Harshbarger (MIT Licensed)
 * https://github.com/Hypercubed/_F
 */(function(){"use strict";function a(a,b){Object.keys(a).forEach(function(c){b(a[c],c)})}function b(b,c){return a(c,function(a,c){b[c]=a}),b}function c(a){return a}function d(a){return function(){return a.apply(this,arguments)}}function e(a){var b=Array.prototype.slice.call(arguments,1);return function(){for(var c=0,d=b.slice();c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}}function f(a){if(void 0===a||null===a)return c;if("function"==typeof a)return d(a);if("$index"===a)return function(a,b){return b};if("$this"===a)return function(){return this};if("number"==typeof a||!a.match(/\./))return function(b){return null===b||void 0===b?void 0:b[a]};var b=a.split("."),e=f(b.shift()),h=f(b.join("."));return g(h,e)}function g(a,b){return function(c,d){return a.call(this,b.apply(this,arguments),d,c)}}function h(a,c){var d,e=f(a);return d="function"==typeof c?g(c,e):e,d.key=a,d.accessor=a?e:void 0,b(d,i),d}var i={},j={eq:function(a){return function(b){return b==a}},lt:function(a){return function(b){return a>b}},gt:function(a){return function(b){return b>a}},lte:function(a){return function(b){return a>=b}},gte:function(a){return function(b){return b>=a}}},k={and:function(a,b){return function(c,d,e){return!(!a.call(this,e,d)||!b.call(this,e,d))}},or:function(a,b){return function(c,d,e){return!(!a.call(this,e,d)&&!b.call(this,e,d))}},not:function(a,b){return function(a,c,d){return!b.call(this,d,c)}}};i.factory=function(a){return h(this.accessor,a)},i._factory=function(a){return a.hasOwnProperty("accessor")&&void 0===a.accessor?this.factory(a):a},i.compose=e(g,i.factory),i.partial=function(){var a=e.apply(this,arguments);return e(a,this)},i.wrap=function(){var a=g(this.partial.apply(this,arguments),this._factory);return this.compose(a)},i.chain=function(b){return function(){var c=this,d=this.wrap(b);if(arguments.length<1){var e={};return a(j,function(a,b){e[b]=g(d,c[b]).bind(c)}),e}return d.apply(this,arguments)}},a(j,function(a,b){i[b]=g(i.factory,a)}),a(k,function(a,b){i[b]=i.chain(k[b])}),"undefined"!=typeof module&&"object"==typeof exports?module.exports=h:"function"==typeof define&&define.amd?define(function(){return h}):this._F=h}).call(function(){return this||("undefined"!=typeof window?window:global)}()),function(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}();