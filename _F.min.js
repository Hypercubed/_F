/*
 * _F 0.0.6 - a _F thing
 * Copyright  (c) 2014 J. Harshbarger (MIT Licensed)
 * https://github.com/Hypercubed/_F
 */(function(){"use strict";function a(a,b){Object.keys(a).forEach(function(c){b(a[c],c)})}function b(b,c){return a(c,function(a,c){b[c]=a}),b}function c(a){return a}function d(a,b){return b>a?-1:a>b?1:a>=b?0:0/0}function e(a,b){return a>b?-1:b>a?1:b>=a?0:0/0}function f(a){return function(){return a.apply(this,arguments)}}function g(a){var b=Array.prototype.slice.call(arguments,1);return function(){for(var c=0,d=b.slice();c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}}function h(a){if(void 0===a||null===a)return c;if("function"==typeof a)return f(a);if("$index"===a)return function(a,b){return b};if("$this"===a)return function(){return this};if("number"==typeof a||!a.match(/\./))return function(b){return null===b||void 0===b?void 0:b[a]};var b=a.split("."),d=h(b.shift()),e=h(b.join("."));return i(e,d)}function i(a,b){return function(c,d){return a.call(this,b.apply(this,arguments),d,c)}}function j(a){return function(b){return function(c){return a(c,b)}}}function k(a){return function(b,c){return function(d,e,f){return!!a.call(this,b,c,d,e,f)}}}function l(a,c){var d,e=h(a);return d="function"==typeof c?i(c,e):e,d.key=a,d.accessor=a?e:void 0,b(d,m),d}var m={},n={eq:function(a,b){return a==b},neq:function(a,b){return a!==b},lt:function(a,b){return b>a},gt:function(a,b){return a>b},lte:function(a,b){return b>=a},gte:function(a,b){return a>=b},match:function(a,b){return b instanceof RegExp?b.test(String(a)):new RegExp(b).test(String(a))},"in":function(a,b){return Array.isArray(b)?b.indexOf(a)>-1:String(b).indexOf(String(a))>-1},has:function(a,b){return Array.isArray(a)?a.indexOf(b)>-1:String(a).indexOf(String(b))>-1}},o={and:function(a,b,c,d,e){return a.call(this,e,d)&&b.call(this,e,d)},or:function(a,b,c,d,e){return a.call(this,e,d)||b.call(this,e,d)},not:function(a,b,c,d,e){return!b.call(this,e,d)}};m.factory=function(a){return l(this.accessor,a)},m._factory=function(a){return a.hasOwnProperty("accessor")&&void 0===a.accessor?this.factory(a):a},m.compose=g(i,m.factory),m.partial=function(){var a=g.apply(this,arguments);return g(a,this)},m.wrap=function(){var a=i(this.partial.apply(this,arguments),this._factory);return this.compose(a)},m.chain=function(b){return function(){var c=this,d=this.wrap(b);if(arguments.length<1){var e={};return a(n,function(a,b){e[b]=i(d,c[b]).bind(c)}),e}return d.apply(this,arguments)}},m.order=function(a){var b=this;return arguments.length<1?{asc:m.order.call(b,d),desc:m.order.call(b,e)}:function(c,d){return a(b(c),b(d))}},a(n,function(a,b){m[b]=i(m.factory,j(a))}),a(o,function(a,b){m[b]=m.chain(k(a))}),"undefined"!=typeof module&&"object"==typeof exports?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):this._F=l}).call(function(){return this||("undefined"!=typeof window?window:global)}()),function(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}();