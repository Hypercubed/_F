/*
 * _F 0.0.11 - a _F thing
 * Copyright  (c) 2015 J. Harshbarger (MIT Licensed)
 * https://github.com/Hypercubed/_F
 */(function(){"use strict";function a(a,b){Object.keys(a).forEach(function(c){b(a[c],c)})}function b(b,c){return a(c,function(a,c){b[c]=a}),b}function c(a){return a}function d(a){return void 0!==a&&null!==a}function e(a,b){return b>a?-1:a>b?1:a>=b?0:0/0}function f(a,b){return a>b?-1:b>a?1:b>=a?0:0/0}function g(a){return function(){return a.apply(this,arguments)}}function h(a){var b=Array.prototype.slice.call(arguments,1);return function(){for(var c=0,d=b.slice();c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}}function i(a){if(!d(a))return c;if("function"==typeof a)return g(a);if("$index"===a)return function(a,b){return b};if("$this"===a)return function(){return this};if("number"==typeof a)return function(b){return d(b)?b[a]:void 0};if("string"==typeof a&&-1===a.indexOf("."))return function(b){return d(b)?b[a]:void 0};var b=Array.isArray(a)?a:a.split("."),e=i(b.shift()),f=i(b.join("."));return j(f,e)}function j(a,b){return function(c,d){return a.call(this,b.apply(this,arguments),d,c)}}function k(a){return function(){var b=Array.prototype.slice.call(arguments,0);return function(c){return a.apply(this,[c].concat(b))}}}function l(a){return function(b,c){return function(d,e,f){return!!a.call(this,b,c,d,e,f)}}}function m(a,c){var d,e=i(a);return d="function"==typeof c?j(c,e):e,d.key=a,d.accessor=void 0!==a&&null!==a?e:void 0,b(d,n),d}var n={},o={eq:function(a,b){return a==b},is:function(a,b){return a===b},neq:function(a,b){return a!==b},lt:function(a,b){return b>a},gt:function(a,b){return a>b},lte:function(a,b){return b>=a},gte:function(a,b){return a>=b},between:function(a,b,c){return a>b&&c>a},exists:function(a){return void 0!==a&&null!==a},"typeof":function(a,b){return typeof a===b},match:function(a,b){return b instanceof RegExp?b.test(String(a)):new RegExp(b).test(String(a))},"in":function(a,b){return Array.isArray(b)?b.indexOf(a)>-1:String(b).indexOf(String(a))>-1},has:function(a,b){return Array.isArray(a)?a.indexOf(b)>-1:String(a).indexOf(String(b))>-1}},p={and:function(a,b,c,d,e){return a.call(this,e,d)&&b.call(this,e,d)},or:function(a,b,c,d,e){return a.call(this,e,d)||b.call(this,e,d)},not:function(a,b,c,d,e){return!b.call(this,e,d)}};n.factory=function(a){return m(this.accessor,a)},n._factory=function(a){return a.hasOwnProperty("accessor")&&void 0===a.accessor?this.factory(a):a},n.compose=h(j,n.factory),n.partial=function(){var a=h.apply(this,arguments);return h(a,this)},n.wrap=function(){var a=j(this.partial.apply(this,arguments),this._factory);return this.compose(a)},n.chain=function(b){return function(){var c=this,d=this.wrap(b);if(arguments.length<1){var e={};return a(o,function(a,b){e[b]=j(d,c[b]).bind(c)}),e}return d.apply(this,arguments)}},n.order=function(a){var b=this;return arguments.length<1?{asc:n.order.call(b,e),desc:n.order.call(b,f)}:function(c,d){return a(b(c),b(d))}},a(o,function(a,b){n[b]=j(n.factory,k(a))}),a(p,function(a,b){n[b]=n.chain(l(a))}),"undefined"!=typeof module&&"object"==typeof exports?module.exports=m:"function"==typeof define&&define.amd?define(function(){return m}):this._F=m}).call(function(){return this||("undefined"!=typeof window?window:global)}()),function(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}();